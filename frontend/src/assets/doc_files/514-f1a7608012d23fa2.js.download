(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{40402:function(e,t,r){"use strict";r.d(t,{u_:function(){return v},r6:function(){return h},Lt:function(){return d.y}});var n=r(82729),a=r(85893),o=r(15483),i=r(31420),s=r(67814),l=r(93967),c=r.n(l),u=r(26793),d=r(13017),m=r(85950),p=r.n(m);let h=e=>{let{className:t,children:r,ruled:n}=e;return(0,a.jsx)("h4",{className:c()("mb-2 font-bold text-lg text-center md:text-left mt-5 md:mt-0 text-grey-black",n&&"border-b pb-4 border-grey-mid",t),children:r})};function f(){let e=(0,n._)(["language.close"]);return f=function(){return e},e}let v=e=>{let{children:t,className:r,transition:n=d.y.Zoom,large:l=!1,overlayClassName:m,...h}=e,{t:v}=(0,u.$)();return(0,a.jsx)(d.B,{...h,transition:n,className:c()(m,"md:p-10"),children:(0,a.jsxs)("div",{className:c()(p().modal,l&&p().large,"bg-white p-4 md:px-10 md:py-8 md:rounded-md overflow-auto shadow-md size-full md:size-auto box-border",r),"data-testid":"popup",children:[(0,a.jsx)(o.TRl,{variant:"dark",className:"mx-auto md:hidden"}),(0,a.jsx)("button",{className:"absolute text-2xl text-grey-mid right-5 top-3 md:right-10 md:top-8 hover:text-navy transition-colors",title:v(f()),onClick:h.onHide,children:(0,a.jsx)(s.G,{className:"fill-current",icon:i.NB})}),t]})})}},80029:function(e,t,r){"use strict";r.d(t,{LX:function(){return s},qV:function(){return l},yV:function(){return a}});var n,a,o=r(51624),i=r.n(o);let s=300;(n=a||(a={})).Zoom="zoom",n.Fade="fade",n.SlideDown="slide-down",n.Flyout="flyout",n.MobileReverseFlyout="mobile-reverse-flyout";let l={fade:{base:"transition-opacity",entering:"opacity-0",entered:"opacity-100",exiting:"opacity-0",exited:"opacity-0"},zoom:{base:i().zoom,entering:"scale-105 opacity-0",entered:"scale-100 opacity-1",exiting:"scale-105 opacity-0"},"slide-down":{base:"transition-transform",entering:i()["slide-top-out"],entered:"translate-y-0",exiting:i()["slide-top-out"]},flyout:{base:"absolute top-0 transition-transform right-0 transform",entering:"translate-x-full",entered:"translate-x-0",exiting:"translate-x-full"},"mobile-reverse-flyout":{base:"fixed top-0 transform transition-transform left-0 2xl:right-0 2xl:left-auto",entering:"-translate-x-full 2xl:translate-x-full",entered:"translate-x-0",exiting:"-translate-x-full 2xl:translate-x-full"}}},13017:function(e,t,r){"use strict";r.d(t,{B:function(){return m},y:function(){return c.yV}});var n=r(85893),a=r(93967),o=r.n(a),i=r(67294),s=r(26273),l=r(66791),c=r(80029),u=r(80703);let d=(e,t)=>o()("duration-".concat(c.LX),t.base,t[e]),m=e=>{let{show:t,onHide:r,children:a,transition:m=c.yV.Fade,alwaysRendered:p=!1,className:h,...f}=e,v=(0,i.useRef)(null),y=a.props,g=e=>r(e),w=c.qV[c.yV.Fade],x=c.qV[m];(0,l.Z)("keydown",e=>{t&&"Escape"===e.key&&g(e)});let b=()=>{t&&v.current&&v.current.focus()},E=(0,n.jsx)(s.ZP,{in:t,timeout:{appear:c.LX,exit:c.LX},onEntered:()=>{setTimeout(b,c.LX)},unmountOnExit:!p,children:e=>{let t=d(e,w),r=d(e,x);return(0,n.jsxs)("div",{...f,className:o()("fixed top-0 left-0 flex flex-col items-center size-full box-border z-50","exited"===e&&"pointer-events-none hidden",h),children:[(0,n.jsx)("button",{ref:v,className:o()("fixed left-0 top-0 size-full bg-black bg-opacity-50",t),onClick:g}),(0,i.cloneElement)(a,{...y,className:o()(y.className,r)})]})}});return p?E:(0,n.jsx)(u.X,{children:E})}},38828:function(e,t,r){"use strict";r.d(t,{hE:function(){return R}});var n,a,o=r(82729),i=r(85893),s=r(45429),l=r(15483),c=r(83109),u=r(93967),d=r.n(u),m=r(11163),p=r(67294),h=r(10708),f=r(87536),v=r(26793),y=r(70270),g=r(65688),w=r(9241),x=r(60697),b=r(40402);function E(){let e=(0,o._)(["enterprise-search.download-confirmation-prompt.client-name"]);return E=function(){return e},e}let C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t,r)=>(e.push({key:r,value:t.id,text:t.name,option:r}),e),[])};(n=a||(a={}))[n.NotMandatory=0]="NotMandatory",n[n.Max=1]="Max",n[n.ISBN=2]="ISBN",n[n.FinanceCode=3]="FinanceCode",n[n.Digits=4]="Digits",n[n.MandatoryWithEmail=5]="MandatoryWithEmail",n[n.Date=6]="Date",n[n.Required=7]="Required";let P={7:{value:!0,message:"enterprise-search.download-confirmation-prompt.fill-out-field"},2:{value:/^(?=(?:\D*\d){10}(?:(?:\D*\d){3})?$)[\d-]+$/,message:"enterprise-search.download-confirmation-prompt.not-valid"},3:{value:/^([a-zA-Z0-9]{1}\/([a-zA-Z0-9]){4}\/([a-zA-Z0-9]){6}\.([a-zA-Z0-9]){4})$/i,message:"enterprise-search.download-confirmation-prompt.not-valid"},4:{value:/^\d{13}$/i,message:"enterprise-search.download-confirmation-prompt.not-valid"},6:{value:/^(0[1-9]|[12][0-9]|3[01])[/](0[1-9]|1[012])[/](19|20)\d\d$/i,message:"enterprise-search.download-confirmation-prompt.not-valid"}},I=e=>{switch(e){case 1:return{maxLength:128,required:P[7]};case 2:return{maxLength:13,pattern:P[2],required:P[7]};case 3:return{pattern:P[3],required:P[7]};case 4:return{pattern:P[4],required:P[7]};case 6:return{pattern:P[6],required:P[7]};default:return{}}},T=(e,t,r)=>{let{t:n}=(0,v.$)();return e.map(e=>{var a,o;let s=(null===(a=r[e.name])||void 0===a?void 0:a.message)?n((null===(o=r[e.name])||void 0===o?void 0:o.message)||""):"";return(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(x.U,{required:!!I(e.validation).required,label:e.description,errorMessage:s,maxLength:I(e.validation).maxLength,...t(e.name,I(e.validation))})},e.name)})},R=e=>{var t,r;let{show:n,onHide:a,userDetails:o,downloadHandler:u,defaultProjectRef:P,isAdditionalDetails:I=!1,product:R}=e,{t:S}=(0,v.$)(),N=(0,m.useRouter)(),D=(null==N?void 0:N.pathname)==="/shopping-cart",[L]=(0,h.Z)([y.Xc]),k=!(null==o?void 0:o.bespokeDetails.length)||(null==o?void 0:o.isAdGroup),A=null==o?void 0:o.bespokeDetails.reduce((e,t)=>({...e,[t.name]:""}),{}),j=k?{reference:P,adClientId:L[y.Xc],...A}:{...A},{register:_,handleSubmit:q,reset:U,formState:M,control:O}=(0,f.cI)({defaultValues:j,shouldFocusError:!1}),F=q(e=>u(e)),{errors:V}=M,[Q,Z]=(0,p.useState)(!1),Y=(null==R?void 0:R.type)===c.ProductType.Video;p.useEffect(()=>{n&&U(j)},[n]);let B=(0,p.useMemo)(()=>(null==R?void 0:R.restriction)||(null==R?void 0:R.isNews),[R]),W=(0,p.useMemo)(()=>k&&I,[k,I]);return(0,i.jsxs)(b.u_,{alwaysRendered:!0,show:n,onHide:a,overlayClassName:"h-full",className:d()("overflow-hidden flex flex-col max-h-full",{"md:!w-fit":B&&W}),children:[(0,i.jsx)(b.r6,{children:S("enterprise-search.download-confirmation-prompt.title")}),(0,i.jsxs)("div",{className:d()("flex flex-col gap-3 max-h-full overflow-hidden",{"md:flex-row":B&&W}),children:[B&&(0,i.jsx)("div",{className:d()("flex-1 max-h-fit overflow-hidden",{"md:!max-h-[340px] md:w-[350px]":W&&B}),id:"consent-box",children:(0,i.jsx)(s.a7,{data:(0,s.er)(S,D?s.H5.CartProductPopupConsent:Y?s.H5.VideoPopupConsent:s.H5.ImagePopupConsent,!0),boxActive:Q,handleChange:e=>{Z(void 0===e?!Q:e)},className:"!pr-2 overflow-hidden h-full",contentWrapper:"pr-2 overflow-auto h-full [&::-webkit-scrollbar-thumb]:bg-gray-700 [&::-webkit-scrollbar-track]:bg-gray-200  [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:rounded-full"})}),(0,i.jsxs)("div",{className:d()("max-h-fit pr-2 overflow-auto h-full [&::-webkit-scrollbar-thumb]:bg-gray-700 [&::-webkit-scrollbar-track]:bg-gray-200  [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:rounded-full",{"md:w-[350px]":W&&B}),children:[(null==o?void 0:o.isAdGroup)?(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(f.Qr,{name:"adClientId",control:O,rules:{required:{value:!0,message:S("enterprise-search.download-confirmation-prompt.enter-client-name")}},render:e=>{var t;return(0,i.jsx)(w.F,{required:!0,options:C(null==o?void 0:o.adUsers),value:e.field.value,onBlur:e.field.onBlur,onChange:e.field.onChange,errorMessage:null===(t=V.adClientId)||void 0===t?void 0:t.message,label:S(E())})}})}):T((null==o?void 0:o.bespokeDetails)||[],_,V),W&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-base mt-5 md:mt-0",children:S("enterprise-search.download-confirmation-prompt.subtitle")}),(0,i.jsx)("div",{className:"mt-5",id:"more-details",children:(0,i.jsx)(x.U,{required:!0,label:S("enterprise-search.download-confirmation-prompt.placeholder-reference"),errorMessage:null===(t=V.reference)||void 0===t?void 0:t.message,..._("reference",{required:{value:!0,message:S("enterprise-search.download-confirmation-prompt.enter-reference")}}),defaultValue:P,"data-testid":"download_preference"})}),(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(x.U,{isMultiline:!0,label:S("enterprise-search.download-confirmation-prompt.placeholder-comments"),errorMessage:null===(r=V.comment)||void 0===r?void 0:r.message,..._("comment",{}),"data-testid":"comments"})})]}),(0,i.jsxs)("div",{className:"flex mt-5 max-h-fit",children:[(0,i.jsx)(l.Yd2,{disabled:!!(((null==R?void 0:R.restriction)||(null==R?void 0:R.isNews))&&!Q),primary:!0,size:l.qE.Large,"data-testid":"download-image-button",onClick:e=>{if(Q&&(0,g.L9)({action:g.aU.EnableChkBoxDownloadConfirmationPopup,event:g.ju.Click,label:g.D_.DownloadConfirmationPopupCheckboxEnable,category:Y?g.WD.VideoPageInteractions:g.WD.ImagePageInteractions}),I){F(e),Q&&(0,g.L9)({event:g.ju.Click,action:g.aU.DownloadRestrictionBanner,category:g.WD.ShoppingCartInteractions,label:g.D_.EnableChkboxRestrictionConsent});return}u({},R)},className:"flex items-center justify-center w-full mr-8 font-bold 3xs:text-base",children:S("enterprise-search.download-confirmation-prompt.download")}),(0,i.jsx)(l.Yd2,{onClick:a,size:l.qE.Large,className:"flex items-center justify-center w-full font-bold 3xs:text-base",children:S("enterprise-search.download-confirmation-prompt.cancel")})]})]})]})]})}},66558:function(e,t,r){"use strict";r.d(t,{e:function(){return d},h:function(){return m}});var n=r(85893),a=r(15483),o=r(87536),i=r(26793),s=r(65688),l=r(9001),c=r(60697),u=r(40402);let d="password",m=e=>{var t;let{show:r,onHide:m,onSubmit:p}=e,{t:h}=(0,i.$)(),{register:f,handleSubmit:v,formState:y,setError:g}=(0,o.cI)({shouldFocusError:!1}),{errors:w}=y;return(0,n.jsxs)(u.u_,{alwaysRendered:!0,show:r,onHide:m,children:[(0,n.jsx)(u.r6,{ruled:!0,children:h("enterprise-search.password-confirmation-prompt.title")}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"mt-5",children:(0,n.jsx)(c.U,{required:!0,type:"password",label:h("enterprise-search.password-confirmation-prompt.placeholder-password"),"data-testid":"password-input",errorMessage:null===(t=w.password)||void 0===t?void 0:t.message,...f(d,{required:{value:!0,message:h("enterprise-search.password-confirmation-prompt.incorrect-password")}})})})}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)("a",{href:"/forgot-password/",target:"_blank",className:"mr-5 text-sm border-0 md:inline-block highlighted-link",children:h("enterprise-search.password-confirmation-prompt.forgot-password")})}),(0,n.jsx)("div",{className:"flex mt-5",children:(0,n.jsx)(a.Yd2,{primary:!0,size:a.qE.Large,onClick:v(e=>{p(e,g),(0,s.L9)({event:l.ju.Click,action:l.aU.CTACLick,category:l.WD.ShoppingCartInteractions,label:l.qB.PasswordConfirmation})}),"data-testid":"confirm-password-button",className:"flex items-center justify-center w-1/2 mr-8 font-bold 3xs:text-base",children:h("enterprise-search.password-confirmation-prompt.continue")})})]})}},93839:function(e,t,r){"use strict";r.d(t,{Zl:function(){return v},oZ:function(){return f},wu:function(){return a}});var n,a,o=r(85893),i=r(45429),s=r(11163),l=r(67294),c=r(10708),u=r(38828),d=r(66558),m=r(70270),p=r(41181),h=r(37087);(n=a||(a={})).AddToCart="add-to-cart",n.BuyNow="buy-now";let f=(0,l.createContext)({cart:{count:0},setCart:()=>{},cartActiveAction:null,whileAddingToCart:()=>Promise.resolve(),whileBuyingNow:()=>Promise.resolve(),downloadHandler:()=>Promise.resolve(),setSelctedProduct:()=>{},setUser:()=>{}}),v=e=>{let{cart:t,children:r}=e,n=(0,s.useRouter)(),{products:a}=(0,l.useContext)(i.oZ),[v,y]=(0,l.useState)(t),[g,w]=(0,h.$)(),[x,b]=(0,h.$)(),[E,C]=(0,l.useState)({}),[P,I]=(0,l.useState)({}),[T,R]=(0,l.useState)(!1),[S,N]=(0,l.useState)(!1),D={isAdGroup:!!(null==P?void 0:P.isAdGroup),adUsers:(null==P?void 0:P.adUsers)||[],bespokeDetails:(null==P?void 0:P.bespokeDetails)||[]},[L]=(0,c.Z)(),{verifySession:k,downloadImageSubmitHandler:A,passwordConfirmationSubmitHandler:j,createBDOHandler:_}=(0,p.q)(E,N,R,!!(null==P?void 0:P.additionalDetails),P,a),q=(null==n?void 0:n.pathname)==="/shopping-cart",U=async()=>{await k((null==P?void 0:P.additionalDetails)?void 0:E)};return(0,l.useEffect)(()=>{y(t)},[t]),(0,o.jsxs)(f.Provider,{value:{cart:v,setCart:y,cartActiveAction:g&&"add-to-cart"||x&&"buy-now"||null,whileAddingToCart:w,whileBuyingNow:b,downloadHandler:U,setSelctedProduct:C,setUser:I},children:[r,(0,o.jsx)(u.hE,{userDetails:D,product:E,show:T,onHide:()=>R(!1),downloadHandler:q?_:A,defaultProjectRef:L[m.WM],isAdditionalDetails:!!(null==P?void 0:P.additionalDetails)}),(0,o.jsx)(d.h,{show:S,onHide:()=>N(!1),onSubmit:j})]})}},78429:function(e,t,r){"use strict";r.d(t,{Y:function(){return i}});var n=r(83109),a=r(67294);let o={layoutData:{currency:n.CurrencyCode.GBP,countryCode:null,contactNumber:"",imageCount:0,isDefaultData:!0}},i=(0,a.createContext)(o)},49782:function(e,t,r){"use strict";r.d(t,{ET:function(){return i},tP:function(){return o}});var n=r(85893),a=r(67294);let o=(0,a.createContext)({lightboxes:[],setLightboxes:()=>{}}),i=e=>{let{lightboxes:t,children:r}=e,[i,s]=(0,a.useState)(t);return(0,a.useEffect)(()=>{s(t)},[t]),(0,n.jsx)(o.Provider,{value:{lightboxes:i,setLightboxes:s},children:r})}},41181:function(e,t,r){"use strict";r.d(t,{q:function(){return D}});var n=r(45429),a=r(83109),o=r(11163),i=r(80129),s=r(67294),l=r(10708),c=r(26793),u=r(66558),d=r(55406),m=r(70270),p=r(8020),h=r(13633),f=r(9001),v=r(18518),y=r(68882),g=r(55419),w=r(35974),x=r(2841),b=r(74561),E=r(61802),C=r(29914),P=r(6309),I=r(23080),T=r(4082),R=r(12433);let S=()=>(0,s.useContext)(R.N).session,N=e=>Object.keys(e).reduce((t,r)=>t?"".concat(t,"^^").concat(r,"||").concat(e[r]):"".concat(r,"||").concat(e[r]),""),D=function(e,t,r){var R,D;let L=arguments.length>3&&void 0!==arguments[3]&&arguments[3],k=arguments.length>4?arguments[4]:void 0,A=arguments.length>5?arguments[5]:void 0,j=(0,E.h)(),_=(0,T.b)(),{countryCode:q}=(0,I.Q)(),[U,M]=(0,l.Z)(),{t:O}=(0,c.$)(),F=(0,o.useRouter)(),V=S(),Q=(0,P.ev)(),Z=(0,C.D)(),[Y,B]=(0,s.useState)({}),W=(null==F?void 0:F.pathname)==="/shopping-cart",H=(null===(R=U[w.d0])||void 0===R?void 0:R.toUpperCase())||(null==k?void 0:null===(D=k.territoryId)||void 0===D?void 0:D.toUpperCase())||q,z=e=>{let t=(0,x.PM)();e.forEach(e=>{M(e.name,e.value,{path:e.path,secure:e.secure,domain:t})})},$=async e=>{let{commercetoolsConfig:t}=(0,d.b)(),r=await (0,n.pM)(t,U.ctToken),a=(null==r?void 0:r.lineItems.map(e=>{var t,r;return{Id:e.id,ProductId:null===(r=e.custom)||void 0===r?void 0:null===(t=r.fields)||void 0===t?void 0:t.alamy_assetId,ProductType:(0,b.Wv)(e)?f.C0.Video:f.C0.Image}}))||[],o={OrderId:(null==r?void 0:r.id)||"",LangCode:_,CountryCode:H||"",Items:a,PurchaseOrderRef:(null==e?void 0:e.reference)||"",Comments:(null==e?void 0:e.comment)||""};(null==e?void 0:e.adClientId)&&M(m.Xc,e.adClientId),(null==e?void 0:e.reference)&&M(m.WM,e.reference),(await (0,h.VC)(j)(o)).success&&r&&(await (0,n.Gs)(r),window.location.href=(0,p.q)(p.A.DownloadedImages,_),(0,v.Tj)(A))},G=async(t,n,o)=>{var s,l,c,u,d,p,f;let b;let E=L?e:n,C={isBot:Z,locale:_,seqOrRef:(null==E?void 0:null===(s=E.altids)||void 0===s?void 0:s.seq)||""},{data:P}=await (0,h.wv)(j)(C,!1);if((null==E?void 0:E.type)===a.ProductType.Video){let e={videoId:null!==(c=null==E?void 0:null===(l=E.altids)||void 0===l?void 0:l.id)&&void 0!==c?c:"",projectReference:t.reference,comments:t.comment};b=await (0,h.AI)(j)(e)}else{let e=(0,i.parse)(U[w.mh]||""),r=w.wC.map(t=>t===w.n2?(0,x.SS)(e[w.eI],e[w.Qy]):e[t]||""),n={imageId:(null==E?void 0:null===(u=E.altids)||void 0===u?void 0:u.id)||"",imageRef:(null==E?void 0:null===(d=E.altids)||void 0===d?void 0:d.ref)||"",isVector:(null==E?void 0:null===(p=E.meta)||void 0===p?void 0:p.picturetype)===a.PictureType.Vector,isLibraryDownload:"LIBRARY"===E.apaLib,langCode:_,countryCode:H,imageBin:(null==P?void 0:P.renditions)?(0,g.Z2)(P.renditions):0,isNews:(null==E?void 0:E.isNews)||!1,userComments:t.comment||"",projectRef:t.reference||"",iqExtraDetailDesc:!t.reference&&N(t)||"",authOcd:U.AuthOCD||(null==o?void 0:o.value)||(null==Y?void 0:Y.value),pageNo:"".concat((0,x.rg)(F)),searchNo:V.id||"",isIntranet:Q,licenseType:null==E?void 0:null===(f=E.meta)||void 0===f?void 0:f.licencetype,adClientId:t.adClientId||"",searchId:r.join("")};t.adClientId&&M(m.Xc,t.adClientId),t.reference&&M(m.WM,t.reference),b=await (0,h.GN)(j)(n)}b.availableForDownload&&((0,y.E)(b.downloadUrl),r(!1),(0,v.ZA)(e),B({}))},X=async e=>{let n={userId:null==k?void 0:k.id,authOcd:U.AuthOCD||null,downloadType:"image",isIntranet:Q};if(!U.AuthOCD){t(!0);return}if((await (0,h.uT)(j)(n)).showPasswordPrompt)t(!0);else{if(L||(null==e?void 0:e.restriction)||(null==e?void 0:e.isNews)){r(!0);return}W?await $():await G({},e,{value:U.AuthOCD})}};return{passwordConfirmationSubmitHandler:async(n,a)=>{let o={userId:(null==k?void 0:k.id)||"",cid:null,password:n[u.e],downloadType:"image"};try{let n=await (0,h.ZY)(j)(o);if(n.cookies){if(t(!1),z(n.cookies),L||(null==e?void 0:e.restriction)||(null==e?void 0:e.isNews)){r(!0),B(n.cookies.find(e=>"AuthOCD"===e.name));return}W?await $():await G({},e,n.cookies.find(e=>"AuthOCD"===e.name))}}catch(e){a(u.e,{type:"value",message:O("enterprise-search.password-confirmation-prompt.incorrect-password")})}},downloadImageSubmitHandler:G,verifySession:X,createBDOHandler:$}}},23080:function(e,t,r){"use strict";r.d(t,{Q:function(){return o}});var n=r(67294),a=r(78429);let o=()=>(0,n.useContext)(a.Y).layoutData},16321:function(e,t,r){"use strict";r.d(t,{e:function(){return f}});var n=r(82729),a=r(85893),o=r(67294),i=r(26793),s=r(49782),l=r(19473);let c=(e,t)=>t<3?"...":e.length>t?"".concat(e.slice(0,t-3).trim()).concat("..."):e;var u=r(61802),d=r(12421),m=r(62852);function p(){let e=(0,n._)(["lightbox.view-lightbox"]);return p=function(){return e},e}let h=e=>{let{lightbox:t}=e,{t:r}=(0,i.$)();return(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[c(r("lightbox.save-success-toast",{lightboxName:t.name}),31),(0,a.jsx)("a",{href:"".concat((0,d.W)(d.A.LightboxDetails),"?lbId=").concat(t.id),className:"highlighted-link",children:r(p())})]})},f=()=>{let{showToast:e}=(0,m.e)(),{lightboxes:t,setLightboxes:r}=(0,o.useContext)(s.tP),n=(0,u.h)(),i=t=>{e((0,a.jsx)(h,{lightbox:t}),{style:m.j.Success})},c=async()=>r(await (0,l.RK)(n)());return{currentLightbox:t.find(e=>e.isCurrent),lightboxes:t,updateLightboxes:c,addToLightbox:async(e,t)=>(i(await (0,l.S7)(n)(e,t)),c()),createNewLightboxWithProduct:async(e,t)=>(i(await (0,l.Rg)(n)(e,t)),c())}}},37087:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var n=r(67294),a=r(87636);let o=()=>{let[e,t]=(0,n.useState)(!1),r=async r=>{if(!e){t(!0);try{await r()}catch(e){(0,a.S3)(e),t(!1)}t(!1)}};return[e,r]}},13990:function(e,t,r){"use strict";r.d(t,{f:function(){return d}});var n=r(67294),a=r(10708),o=r(50408),i=r(40058),s=r(3685),l=r(4082),c=r(35804),u=r(15798);let d=e=>{let t=(0,u.a)(),r=(0,l.b)(),{countryName:d}=(0,c.m)(),{isPPMEnabled:m}=(0,n.useContext)(o.T),[p]=(0,a.Z)([s.B$,s.iZ]);return("true"===p.isPPMEnabled||m)&&!d&&(0,i.Z)(r,t,e,p)}},62852:function(e,t,r){"use strict";r.d(t,{e:function(){return o},j:function(){return a.jf}});var n=r(67294),a=r(44647);let o=()=>(0,n.useContext)(a.rZ)},25763:function(e,t,r){"use strict";r.d(t,{Xq:function(){return o},_R:function(){return i},dv:function(){return a}});var n=r(87636);let a=e=>async()=>{try{return(await e.get("cart")).data}catch(e){throw Error(e.message)}},o=e=>async t=>{try{await e.post("cart",t)}catch(e){(0,n.S3)(e)}},i=e=>async t=>{try{return(await e.post("cart/checkout",t)).data}catch(e){throw Error(e.message)}}},59706:function(e,t,r){"use strict";r.d(t,{SU:function(){return o},Tg:function(){return i},U_:function(){return s}});var n=r(83109),a=r(87636);let o=e=>async function(t,r){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;try{return(await e.get("licences/".concat(t,"?lan=").concat(r,"&isSimplifiedPricingFeatureEnabled=").concat(o,"&isVideo=").concat(i),{...n?{}:{validateStatus:null}})).data}catch(e){return(0,a.S3)(e),{rf:null,standard:[],pack:null}}},i=e=>async function(t,r,o,i){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.CurrencyCode.GBP,u=arguments.length>7?arguments[7]:void 0,d=!(arguments.length>8)||void 0===arguments[8]||arguments[8];try{return(await e.get("ct-licences?query=".concat(t,"&renditions=").concat(r,"&locale=").concat(o,"&cacheKey=").concat(i,"&licenseType=").concat(l,"&ebm=").concat(s,"&currency=").concat(c,"&collectionId=").concat(u),{...d?{}:{validateStatus:null}})).data}catch(e){return(0,a.S3)(e),{rf:null,standard:[],pack:null}}},s=e=>async t=>{try{return(await e.post("purchase",t)).data}catch(e){throw Error(e.message)}}},19473:function(e,t,r){"use strict";r.d(t,{RK:function(){return n},Rg:function(){return o},S7:function(){return a}});let n=e=>async()=>{try{return(await e.get("lightboxes")).data.items}catch(e){throw Error(e.message)}},a=e=>async(t,r)=>{try{return(await e.post("lightboxes/".concat(t.id),{seq:r.altids.seq,productType:r.type})).data}catch(e){throw Error(e.message)}},o=e=>async(t,r)=>{try{return(await e.post("lightboxes",{name:t,seq:r.altids.seq,productType:r.type})).data}catch(e){throw Error(e.message)}}},13633:function(e,t,r){"use strict";r.d(t,{AI:function(){return F},GN:function(){return M},Lm:function(){return j},PN:function(){return V},SE:function(){return b},SF:function(){return E},Tm:function(){return I},V7:function(){return L},VC:function(){return O},ZY:function(){return U},bE:function(){return _},dy:function(){return A},ew:function(){return C},fR:function(){return x},kq:function(){return Q},n6:function(){return N},pc:function(){return S},s3:function(){return T},tN:function(){return k},uM:function(){return D},uT:function(){return q},uX:function(){return R},wv:function(){return w}});var n=r(83109),a=r(56647),o=r(36235),i=r(79485),s=r(79555),l=r(84115),c=r(55406),u=r(53316),d=r(82294),m=r(87636),p=r(98173),h=r(35974),f=r(37669),v=r(2841);let y=(e,t)=>{let{locale:r,isBot:n,type:a,geo:i,page:c,pn:d,ps:m,nasty:p,editorial:f,lightbox:y,rmuid:g,translate:w,sessionid:x,offset:b,hidecontributor:E}=t,C=o.Yz.reduce((t,r)=>{let n=e[r],a=r===h.A6&&Array.isArray(n)&&n.map(e=>"USA"===e?"us":e.toLowerCase()).join(","),o="ethnicity"===r&&Array.isArray(n)&&n.join(",");return Array.isArray(n)?{...t,[r]:a||o||n.join(",")}:t},e),P=Number(null==C?void 0:C.imgt)===u.lJ.Social,I=Number(null==C?void 0:C.imgt)===u.lJ.AllImages;return{...C,[h.D2]:y?void 0:C[h.D2],qt:(0,v.ZG)(C.qt),hc:(0,l.Ey)(C.hc,"5"),frrate:(0,l.Ey)(C.frrate,"50"),res:(0,l.Ey)(C.res,"4k"),durend:(null==C?void 0:C.durend)>=s.AW?s.t:null==C?void 0:C.durend,imgt:P||I?void 0:C.imgt,langcode:r,isbot:n,type:a,geo:i,pn:d||c,ps:m,page:void 0,nasty:p,editorial:f,lightbox:y,rmuid:g,translate:w,sessionid:x,offset:b,ispartial:!0,hidecontributor:(null==E?void 0:E.join(","))||void 0,...P?{social:!0}:{}}},g=e=>{let{locale:t,isBot:r,ps:n,pn:a,productType:o,isProductUI:i}=e;return{lan:t,bot:r,ps:n,pn:a,type:o,isProductUI:i}},w=e=>function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.get("products/".concat(t.seqOrRef),{params:g({...t,isProductUI:!0}),...r?{}:{validateStatus:null}})},x=e=>async t=>{try{return(await e.post("products/aggregate",t)).data}catch(e){throw Error(e.message)}},b=e=>function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.get("products/".concat(t.seqOrRef),{params:g({...t,productType:n.ProductType.Video,isProductUI:!0}),...r?{}:{validateStatus:null}})},E=e=>async function(t,r){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=g({...t,ps:(null==t?void 0:t.ps)||13,pn:(null==t?void 0:t.pn)||1}),s=i.type||n.ProductType.Picture,l=s===n.ProductType.Picture&&(null==r?void 0:r.imgt)?{imgt:null==r?void 0:r.imgt}:{},{geo:c,headline:u,user:d,isSSR:h}=r||{};try{let a=(await e.get("search/".concat(t.seqOrRef,"/similar/"),{timeout:o?100:0,params:{...i,geo:c||"GB",headline:u||"",type:s,langcode:i.lan,audienceType:null==d?void 0:d.audienceType,silo:null==d?void 0:d.silo,hidePA:null==d?void 0:d.hidePA,hideDataco:null==d?void 0:d.hideDataco,customScheme:null==d?void 0:d.customScheme,...l,isSSR:!!h,isbot:i.bot,isUserLoggedOut:null==r?void 0:r.isUserLoggedOut}})).data;return{similarProducts:s===n.ProductType.Picture?(0,f.px)(null==a?void 0:a.items,i.lan,!0):(0,f.Bh)(null==a?void 0:a.items),totalMatches:(null==a?void 0:a.totalMatches)||0}}catch(r){let e=r.response;return o&&r.code===p.SM.RequestTimeout?(0,m.S3)(new p.bW(t.seqOrRef),!1):e&&e.status===a.W.TOO_MANY_REQUESTS?(0,m.S3)(new p.uu(t.seqOrRef),!1):(0,m.S3)(r),null}},C=e=>async(t,r)=>{try{return(await e.get("products/".concat(t.seqOrRef,"/same-contributor/"),{params:{...g(t),qt:r}})).data}catch(e){throw Error(e.message)}},P=e=>async(t,r)=>{try{return(await e.get("lightboxes/".concat(t),{params:r})).data}catch(e){throw Error(e.message)}},I=e=>async(t,r)=>{try{let n=(await Promise.allSettled(t.map(t=>P(e)("".concat(t.lightboxId),{...r,ps:t.numberOfImages})))).map(e=>"rejected"===e.status?null:e.value).filter(e=>null!==e);if(!n.length)throw Error("No lightboxes were found");return n}catch(e){throw Error(e.message)}},T=e=>async(t,r)=>{let{locale:n,isBot:a,type:o}=r;try{return(await e.get("products",{params:{...t,lan:n,bot:a,type:o}})).data.items}catch(e){throw Error(e.message)}},R=e=>async(t,r)=>{try{return(await e.get("search",{params:y(t,r)})).data}catch(e){throw Error(e.message)}},S=e=>async t=>{try{return(await Promise.all(t.map(t=>e.get("search",{params:y(t.queryParams,t.searchParams)})))).map((e,r)=>({searchQuery:t[r].searchQuery,response:e.data}))}catch(e){throw Error(e.message)}},N=e=>async(t,r)=>{try{return(await e.get("search/images-library-count",{params:y(t,r)})).data}catch(e){throw Error(e.message)}},D=e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{return(await e.get("search/suggest",{params:{qt:t,lan:r,related:n}})).data}catch(e){throw Error(e.message)}},L=e=>async(t,r)=>{let n={imageId:t.imageid||"",altRef:r,pageNumber:Number(t.pn),pseudonymId:t.p||"",searchQuery:t.srch,searchId:t.searchId};try{await e.post("rankmeasures",{...n})}catch(e){(0,m.S3)(e)}},k=e=>async(t,r,n)=>{try{let a=await Promise.resolve(R(e)({...r,[h.D2]:t},n));return{collectionType:t,items:(0,f.px)(a.items,n.locale),totalMatches:a.totalMatches}}catch(e){throw Error(e.message)}},A=e=>async(t,r,n)=>{try{let a=await Promise.resolve(R(e)({...r,[h.D2]:t},n));return{collectionType:t,item:(0,f.px)(a.items,n.locale)[0],totalMatches:a.totalMatches}}catch(e){throw Error(e.message)}},j=e=>async(t,r)=>{try{let[n,a,o,s]=await Promise.all([i.yl.Ultimate,i.yl.Vital,i.yl.Uncut,i.yl.Foundation].map(n=>R(e)({...t,[h.D2]:n},r)));return[{collectionType:i.yl.Ultimate,items:(0,f.px)(n.items,r.locale),totalMatches:n.totalMatches},{collectionType:i.yl.Vital,items:(0,f.px)(a.items,r.locale),totalMatches:a.totalMatches},{collectionType:i.yl.Uncut,items:(0,f.px)(o.items,r.locale),totalMatches:o.totalMatches},{collectionType:i.yl.Foundation,items:(0,f.px)(s.items,r.locale),totalMatches:s.totalMatches}]}catch(e){throw Error(e.message)}},_=e=>async(t,r)=>(await e.get("search/agencies",{params:y(t,r)})).data,q=e=>async t=>{try{return(await e.post("showPrompt",t)).data}catch(e){throw Error(e.message)}},U=e=>async t=>{try{return(await e.post("verifyUserPassword",t)).data}catch(e){throw Error(e.message)}},M=e=>async t=>{try{return(await e.post("downloadProcessing",t)).data}catch(e){throw Error(e.message)}},O=e=>async t=>{try{return(await e.post("downloadProcessing/createBulkDownloadOrder",t)).data}catch(e){throw Error(e.message)}},F=e=>async t=>{try{try{return(await e.get("downloadProcessingVideo",{params:t})).data}catch(e){throw Error(e.message)}}catch(e){throw Error(e.message)}},V=async(e,t)=>{let r=[];for(let i=0;i<e.length;i+=t){let s=e.slice(i,i+t);try{var n,a,o;let e=await fetch("".concat(null===(n=(0,c.b)())||void 0===n?void 0:n.bulkApiUrl,"/products/v1/?ids=").concat(s.join(","),"&langcode=en"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();null==t||null===(o=t.data)||void 0===o||null===(a=o.items)||void 0===a||a.map(e=>r.push({assetType:"image",assetId:e.ImageId,assetRef:e.ImageRef,assetSeq:e.ImageSeq,licenseType:e.LicenseType,isEditorialOnly:e.IsEditorialOnly,geoRestrictions:e.GeoRestrictions||[],assetStatus:e.ImageStatus,searchCollectionId:e.SearchCollectionId}))}catch(e){console.error("Error processing chunk starting at index ".concat(i,":"),e)}}return r},Q=async(e,t)=>{let r=[];for(let n=0;n<e.length;n+=t){let a=e.slice(n,n+t);try{await Promise.all(a.map(e=>fetch("".concat((0,c.b)().apiUrl,"/products/").concat(e,"/?type=video")).then(e=>{if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()}).then(e=>{var t,n,a,o,i,s,l;r.push({assetType:e.type,assetSubType:e.renditions&&(0,d.MR)(Object.keys(e.renditions)),assetId:null===(t=e.altids)||void 0===t?void 0:t.id,assetRef:null===(n=e.altids)||void 0===n?void 0:n.ref,assetSeq:null===(a=e.altids)||void 0===a?void 0:a.seq,licenseType:null===(o=e.meta)||void 0===o?void 0:o.licencetype,isEditorialOnly:null===(s=e.meta)||void 0===s?void 0:null===(i=s.restrictions)||void 0===i?void 0:i.restrictedForEditorialUse,assetStatus:null===(l=e.meta)||void 0===l?void 0:l.mediastatus,geoRestrictions:[]})})))}catch(e){console.error("Error processing video chunk starting at index ".concat(n,":"),e)}}return r}},11237:function(e,t,r){"use strict";var n,a;r.d(t,{M:function(){return n}}),(a=n||(n={})).MAIN="main",a.DOWNLOAD="download",a.BUY_NOW="buyNow"},34051:function(e,t,r){"use strict";var n,a,o,i;r.d(t,{C:function(){return n},q:function(){return a}}),(o=n||(n={})).APPLY_LICENSE="APPLY_LICENSE",o.RESTRICT_LIFT_REQUEST="RESTRICT_LIFT_REQUEST",o.DUPLICATE="DUPLICATE",o.DELETE="DELETE",o.HELP="HELP",o.DEFAULT="DEFAULT",o.APPROVE_REQUEST="APPROVE_REQUEST",o.DENY_REQUEST="DENY REQUEST",(i=a||(a={})).ADD_LINE_ITEM="addLineItem",i.REMOVE_LINE_ITEM="removeLineItem",i.RESTRICT_LIFT_REQUEST="alamy_restrictionsLiftRequest",i.HELP="alamy_cartCustomerNotification",i.DUPLICATE="alamy_duplicateRequest",i.APPROVE_REQUEST="alamy_approveRequests",i.DENY="alamy_denyRequests",i.APPLY_LICENSE="alamy_applyLicense"},82294:function(e,t,r){"use strict";r.d(t,{GQ:function(){return h},Hh:function(){return g},MR:function(){return f},Tx:function(){return d},dv:function(){return u},js:function(){return w},rc:function(){return v},yY:function(){return y}});var n=r(45429),a=r(65885),o=r(55406),i=r(11237),s=r(34051),l=r(39208),c=r(3685);let u=async(e,t)=>{let r=await (0,l.dL)();return(await r.post("cart/".concat(e),{},{headers:{Cookie:"AlamyUserID=".concat(t)}})).data||[]},d=async e=>{let{selections:t=[],productId:r,variantId:u,addedAt:d=Date.now(),isPremium:m=!1,version:p,type:h,comment:f,duplicateCount:v}=e;try{let e=await (0,l.dL)(),y=[];if(h===s.C.DELETE&&y.push(...t.map(e=>{let{lineItemId:t}=e;return{action:s.q.REMOVE_LINE_ITEM,lineItemId:t}})),h===s.C.APPLY_LICENSE){let{commercetoolsConfig:e}=(0,o.b)(),i=m&&e?await (0,n.cS)(e):void 0;y.push(...t.map(e=>{var t,o;let{alamy_assetId:l,alamy_assetSeq:m,alamy_assetRef:p,assetType:h,lineItemId:f}=e;return{action:s.q.APPLY_LICENSE,lineItemId:f,...(0,n.$C)({productId:r,variantId:u,assetId:l,assetSeq:m,assetRef:p,addedAt:d,channelId:null==i?void 0:i.id,assetType:h,channelKeyWithAsset:(t=new a.Z(document.cookie),null!==(o=void 0===t?void 0:t.get(c.YA))&&void 0!==o)?o:null})}}))}else[s.C.RESTRICT_LIFT_REQUEST,s.C.HELP].includes(h)?y.push({action:h===s.C.HELP?s.q.HELP:s.q.RESTRICT_LIFT_REQUEST,assets:t.map(e=>{let{alamy_assetRef:t}=e;return t}),comments:f}):h===s.C.DUPLICATE?y.push({action:s.q.DUPLICATE,lineItems:t.map(e=>{let{lineItemId:t}=e;return{id:t,count:v||1}})}):[s.C.DENY_REQUEST,s.C.APPROVE_REQUEST].includes(h)&&y.push({action:h===s.C.APPROVE_REQUEST?s.q.APPROVE_REQUEST:s.q.DENY,lineItems:t.map(e=>{let{lineItemId:t}=e;return t})});let g=await e.post("cart/".concat(i.M.DOWNLOAD),{version:p,actions:y});return(null==g?void 0:g.data)||[]}catch(e){return e.message}},[m,p]=["hd","4k"],h=e=>{let t=null==e?void 0:e.every(e=>{var t;return null===(t=e.assetSubType)||void 0===t?void 0:t.some(e=>e.toLowerCase().includes(p))}),r=null==e?void 0:e.every(e=>{var t;return null===(t=e.assetSubType)||void 0===t?void 0:t.some(e=>e.toLowerCase().includes(m)&&!e.toLowerCase().includes(p))});return t&&r?[m,p]:r?[m]:t?[p]:[]},f=e=>{let t=[];return e.forEach(e=>{e.toLowerCase().includes(m)&&!e.toLowerCase().includes(p)?t.push(m.toUpperCase()):e.toLowerCase().includes(p)&&t.push(p.toUpperCase())}),t},v=e=>{var t,r,n,a;let o=null!==(t=null==e?void 0:e.every(e=>{let{licenseType:t}=e;return"RM"===t}))&&void 0!==t&&t,i=null!==(r=null==e?void 0:e.every(e=>{let{licenseType:t}=e;return"RF"===t}))&&void 0!==r&&r,s=null!==(n=null==e?void 0:e.some(e=>{let{licenseType:t}=e;return"RM"===t}))&&void 0!==n&&n&&null!==(a=null==e?void 0:e.some(e=>{let{licenseType:t}=e;return"RF"===t}))&&void 0!==a&&a;return{hide:i||s,disable:o||s}},y=e=>{let t=new Set,r=new Set;return null==e||e.forEach(e=>{var n,a;let{custom:o}=e;return(r.has(null==o?void 0:null===(n=o.fields)||void 0===n?void 0:n.alamy_assetRef)?t:r).add(null==o?void 0:null===(a=o.fields)||void 0===a?void 0:a.alamy_assetRef)}),Array.from(t)},g=e=>(null==e?void 0:e.startsWith("pending:"))&&Number(e.slice(8))||null,w=(e,t)=>{let r=[],n=[];return e.forEach(e=>{(null==t?void 0:t.some(t=>t.assetId===e.alamy_assetId&&"approved"!==e.restrictionRemoveReq&&(71===t.assetStatus||t.geoRestricted)))?r.push(e):n.push(e)}),{isRestricted:r.length>0,restrictedItems:r,unRestrictedItems:n}}},68882:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});let n=(e,t)=>{let r=document.createElement("a");r.href=e,r.type="hidden",r.download=t||e.split("/").pop()||"",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},71395:function(e,t,r){"use strict";r.d(t,{um:function(){return b},aD:function(){return C},x2:function(){return E}});var n=r(45429),a=r(83109),o=r(25501),i=r(55406),s=r(58656),l=r(89685),c=r(91817),u=r(25763),d=r(59706),m=r(19473),p=r(70680),h=r(39208),f=r(12449),v=r(40058),y=r(82165),g=r(35353);let w=e=>{let{addContext:t,getInitialProps:r,getFinalProps:n}=e;return e=>{let a=async a=>{let o=await t(a),i={...a,...o},s=await r(i);if("redirect"in s||"notFound"in s)return s;let l=s.props,c=await e({...i,initialProps:l});if("redirect"in c||"notFound"in c)return c;let u=await n({...i,initialProps:l});return"redirect"in u||"notFound"in u?u:{props:{...s.props,...c.props,...u.props}}};return a.inner=e,a}},x=(e,t)=>Promise.resolve({props:{pageData:{layoutData:{currency:a.CurrencyCode.GBP,countryCode:null,contactNumber:"",imageCount:0,isDefaultData:!0},authInfo:e,lightboxes:[],cart:{count:0},licences:null,cookieDomain:t}}}),b=async(e,t,r,a,o,s,c,h)=>{var f;let y=(0,v.Z)(a,t.user,l.y.PageData,c),[g,w,x,b,E]=await Promise.all([(0,p.r)(e)(),r?(0,m.RK)(e)():[],r&&!y?(0,u.dv)(e)():{count:0},r&&(null==t?void 0:null===(f=t.user)||void 0===f?void 0:f.isIQUser)&&!y?(0,d.SU)(e)(1,a):null,r&&!h&&s&&y?(0,n.pM)((0,i.b)().commercetoolsConfig,s):null]);return{props:{pageData:{layoutData:g,authInfo:t,lightboxes:w,cart:x,licences:b,cookieDomain:o,ppmInitialCart:E||null}}}},E=w({addContext:async e=>{let{req:t,res:r,locale:n}=e,a=new o.Z(t.headers.cookie),i=(0,y.QR)(t.headers.host||""),l=await (0,h.yx)(a,t),u=await (0,h.yx)(a,t,!0),d=(null==t?void 0:t.headers["x-distributor-territory"])?s.a:n||s.a,m=t.headers["user-agent"]||"",p=(0,g.CA)(m),v=!!(0,f.b)(a),w=await (0,c.yr)(l)(a,r,d,i,p),{referer:x}=t.headers,b=null==a?void 0:a.get("ctToken");return{cookies:a,api:l,locale:d,isBot:p,authInfo:w,isAuthenticatedRequest:v,cookieDomain:i,referer:x,ctToken:b,apiSearch:u}},getInitialProps:e=>{let{authInfo:t,cookieDomain:r}=e;return x(t,r)},getFinalProps:e=>{let{cookies:t}=e;return Promise.resolve({props:{cookie:(0,y.SQ)(t)}})}}),C=w({addContext:async e=>{let{req:t,res:r,locale:n}=e,a=new o.Z(t.headers.cookie),i=(0,y.QR)(t.headers.host||""),l=await (0,h.yx)(a,t),u=await (0,h.yx)(a,t,!0),d=n||s.a,m=t.headers["user-agent"]||"",p=(0,g.CA)(m),v=(0,f.b)(a),w=await (0,c.yr)(l)(a,r,d,i,p),{referer:x}=t.headers,b=null==a?void 0:a.get("ctToken");return{cookies:a,api:l,locale:d,isBot:p,authInfo:w,isAuthenticatedRequest:!!v,cookieDomain:i,referer:x,ctToken:b,apiSearch:u}},getInitialProps:e=>{let{api:t,authInfo:r,isAuthenticatedRequest:n,locale:a,cookieDomain:o,ctToken:i,cookies:s}=e;return b(t,r,n,a,o,i,s)},getFinalProps:e=>{let{cookies:t}=e;return Promise.resolve({props:{cookie:(0,y.SQ)(t)}})}})},85950:function(e){e.exports={modal:"Modal_modal__JNobJ",large:"Modal_large__NOtL4"}},51624:function(e){e.exports={zoom:"OverlayComponent_zoom__KclRJ","slide-top-out":"OverlayComponent_slide-top-out__uJm4t"}}}]);